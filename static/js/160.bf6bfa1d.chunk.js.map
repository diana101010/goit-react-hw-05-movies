{"version":3,"file":"static/js/160.bf6bfa1d.chunk.js","mappings":"qMACA,QAA2B,uBAA3B,EAA6D,uBAA7D,EAAgG,wBAAhG,EAA+H,mB,aCM/H,MAiDA,EAjDaA,KACX,MAAM,QAAEC,IAAYC,EAAAA,EAAAA,MACbC,EAAMC,IAAWC,EAAAA,EAAAA,UAAS,KAC1BC,EAAOC,IAAYF,EAAAA,EAAAA,UAAS,OAC5BG,EAAWC,IAAgBJ,EAAAA,EAAAA,WAAS,GAkB3C,OAhBAK,EAAAA,EAAAA,YAAU,KACRD,GAAa,GACKE,WAChB,IACEF,GAAa,GACb,MAAMG,QAAcC,EAAAA,EAAAA,IAAeZ,GACnCG,EAAQQ,EACV,CAAE,MAAON,GACPC,EAAS,0BACX,CAAC,QACCE,GAAa,EACf,GAEFK,EAAW,GACV,CAACb,KAGFc,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAC,SAAA,CACGT,IAAaU,EAAAA,EAAAA,KAACC,EAAAA,EAAM,IACpBb,IAASY,EAAAA,EAAAA,KAAA,OAAAD,SAAMX,KAChBY,EAAAA,EAAAA,KAAA,MAAIE,UAAWC,EAAgBJ,SAC5BK,MAAMC,QAAQpB,KACT,OAAJA,QAAI,IAAJA,OAAI,EAAJA,EAAMqB,KAAIC,IAENV,EAAAA,EAAAA,MAAA,MAAoBK,UAAWC,EAAgBJ,SAAA,EAC7CC,EAAAA,EAAAA,KAAA,OACEQ,IACED,EAAOE,aACF,kCAAiCF,EAAOE,eACzC,CAAErB,SAERsB,IAAM,GAAEH,EAAOI,mBAEjBX,EAAAA,EAAAA,KAAA,KAAGE,UAAWC,EAAYJ,SAAEQ,EAAOI,QACnCd,EAAAA,EAAAA,MAAA,KAAGK,UAAWC,EAAiBJ,SAAA,CAAEQ,EAAOK,UAAU,SAV3CL,EAAOM,WAevB,C,mFC9CApB,eAAeqB,IAEpB,aADuBC,EAAAA,EAAMC,IAAI,uBACjBC,KAAKC,OACvB,CACOzB,eAAe0B,EAAuBC,GAI3C,aAHuBL,EAAAA,EAAAA,GACpB,sBAAqBK,gDAERH,KAAKC,OACvB,CACOzB,eAAe4B,EAAkBC,GAEtC,aADuBP,EAAAA,EAAAA,GAAO,SAAQO,qBACtBL,IAClB,CAEOxB,eAAeE,EAAe2B,GAEnC,aADuBP,EAAAA,EAAAA,GAAO,SAAQO,6BACtBL,KAAKhC,IACvB,CACOQ,eAAe8B,EAAkBD,GAItC,aAHuBP,EAAAA,EAAAA,GACpB,SAAQO,oCAEKL,KAAKC,OACvB,CA3BAH,EAAAA,EAAMS,SAASC,QAAU,+BACzBV,EAAAA,EAAMS,SAASE,OAAS,CAAEC,QAFd,mC","sources":["webpack://react-homework-template/./src/components/Cast.module.css?f72c","components/Cast.jsx","services/API.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"castList\":\"Cast_castList__aP658\",\"castItem\":\"Cast_castItem__Hn3OX\",\"character\":\"Cast_character__r3Kl0\",\"name\":\"Cast_name__MMJeA\"};","import Loader from 'components/Loader';\nimport React, { useEffect } from 'react';\nimport { useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { fetchMovieCast } from 'services/API';\nimport styles from './Cast.module.css';\n\nconst Cast = () => {\n  const { movieId } = useParams();\n  const [cast, setCast] = useState([]);\n  const [error, setError] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n\n  useEffect(() => {\n    setIsLoading(true);\n    const MovieCast = async () => {\n      try {\n        setIsLoading(true);\n        const movie = await fetchMovieCast(movieId);\n        setCast(movie);\n      } catch (error) {\n        setError('Something went wrong...');\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    MovieCast();\n  }, [movieId]);\n\n  return (\n    <>\n      {isLoading && <Loader />}\n      {error && <div>{error}</div>}\n      <ul className={styles.castList}>\n        {Array.isArray(cast) &&\n          cast?.map(castEl => {\n            return (\n              <li key={castEl.id} className={styles.castItem}>\n                <img\n                  src={\n                    castEl.profile_path\n                      ? `https://image.tmdb.org/t/p/w300${castEl.profile_path}`\n                      : { error }\n                  }\n                  alt={`${castEl.name} portrait`}\n                />\n                <p className={styles.name}>{castEl.name}</p>\n                <p className={styles.character}>{castEl.character} </p>\n              </li>\n            );\n          })}\n      </ul>\n    </>\n  );\n};\n\nexport default Cast;\n","import axios from 'axios';\n\nconst KEY = '4b14d9ad7ca21f45278ad0b78c44423b';\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\naxios.defaults.params = { api_key: KEY };\n\nexport async function fetchTrending() {\n  const response = await axios.get('trending/movie/day');\n  return response.data.results;\n}\nexport async function fetchSearchMovieByWord(query) {\n  const response = await axios(\n    `search/movie?query=${query}&include_adult=false&language=en-US&page=1`\n  );\n  return response.data.results;\n}\nexport async function fetchMovieDetails(movie_id) {\n  const response = await axios(`movie/${movie_id}?language=en-US`);\n  return response.data;\n}\n\nexport async function fetchMovieCast(movie_id) {\n  const response = await axios(`movie/${movie_id}/credits?language=en-US`);\n  return response.data.cast;\n}\nexport async function fetchMovieReviews(movie_id) {\n  const response = await axios(\n    `movie/${movie_id}/reviews?language=en-US&page=1`\n  );\n  return response.data.results;\n}\n"],"names":["Cast","movieId","useParams","cast","setCast","useState","error","setError","isLoading","setIsLoading","useEffect","async","movie","fetchMovieCast","MovieCast","_jsxs","_Fragment","children","_jsx","Loader","className","styles","Array","isArray","map","castEl","src","profile_path","alt","name","character","id","fetchTrending","axios","get","data","results","fetchSearchMovieByWord","query","fetchMovieDetails","movie_id","fetchMovieReviews","defaults","baseURL","params","api_key"],"sourceRoot":""}