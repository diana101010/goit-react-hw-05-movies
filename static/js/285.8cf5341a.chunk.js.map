{"version":3,"file":"static/js/285.8cf5341a.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/pages/MovieDetails.module.css?6cd2","pages/MovieDetails.jsx","services/API.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"movie\":\"MovieDetails_movie__e4Hw7\",\"details\":\"MovieDetails_details__-8Cxp\",\"description\":\"MovieDetails_description__RMUTf\",\"backButton\":\"MovieDetails_backButton__0nbPy\",\"reviews\":\"MovieDetails_reviews__IWdR+\",\"cast\":\"MovieDetails_cast__ykCqR\",\"link\":\"MovieDetails_link__wv3O1\",\"active\":\"MovieDetails_active__TenDU\",\"nav\":\"MovieDetails_nav__lOKDT\",\"title\":\"MovieDetails_title__-2Xvc\",\"userScore\":\"MovieDetails_userScore__UtUkE\",\"overviewTitle\":\"MovieDetails_overviewTitle__mQyGF\",\"overview\":\"MovieDetails_overview__D3vhU\",\"genresTitle\":\"MovieDetails_genresTitle__LnFeI\",\"genre\":\"MovieDetails_genre__hpnsh\"};","import Loader from 'components/Loader';\n\nimport React, { Suspense } from 'react';\n\nimport { useEffect } from 'react';\nimport { useState } from 'react';\nimport {\n  NavLink,\n  Outlet,\n  useLocation,\n  useNavigate,\n  useParams,\n} from 'react-router-dom';\nimport { fetchMovieDetails } from 'services/API';\n\nimport styles from './MovieDetails.module.css';\n\nconst MovieDetails = ({ id }) => {\n  const [movie, setMovie] = useState(null);\n  const [error, setError] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n\n  const { movieId } = useParams();\n  const location = useLocation();\n  const navigate = useNavigate();\n\n  const handleClick = () => navigate(location?.state?.from ?? '/');\n\n  useEffect(() => {\n    setIsLoading(true);\n    const MovieDetails = async () => {\n      try {\n        setIsLoading(true);\n        const movie = await fetchMovieDetails(movieId);\n\n        setMovie(movie);\n      } catch (error) {\n        setError('Something went wrong...');\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    MovieDetails();\n  }, [movieId]);\n\n  return (\n    <>\n      {error && <div>{error}</div>}\n\n      <div className={styles.movie}>\n        <button type=\"text\" onClick={handleClick} className={styles.backButton}>\n          Go back\n        </button>\n      </div>\n      {isLoading && <Loader />}\n      {movie && (\n        <div className={styles.details}>\n          <img\n            src={`https://image.tmdb.org/t/p/w200/${movie.poster_path}`}\n            alt={movie.title ?? movie.name}\n          />\n          <div className={styles.description}>\n            <h2 className={styles.title}>{movie.title ?? movie.name}</h2>\n            <p className={styles.userScore}>\n              User Score: {Math.round(movie.popularity)} %{' '}\n            </p>\n            <h3 className={styles.overviewTitle}>Overview</h3>\n            <p className={styles.overview}>{movie.overview}</p>\n            <h3 className={styles.genresTitle}>Genres</h3>\n            {movie.genres.map(({ id, name }) => (\n              <p key={id} className={styles.genre}>\n                {name}\n              </p>\n            ))}\n          </div>\n        </div>\n      )}\n      <div className={styles.description}>\n        <h2>Additional Information</h2>\n        <div className={styles.nav}>\n          <NavLink\n            to={`cast`}\n            end\n            className={`${styles.link} ${\n              location.pathname.includes('cast') ? styles.active : ''\n            }`}\n            state={location.state}\n          >\n            <p>Cast</p>\n          </NavLink>\n          <NavLink\n            to={`reviews`}\n            end\n            className={`${styles.link} ${\n              location.pathname.includes('reviews') ? styles.active : ''\n            }`}\n            state={location.state}\n          >\n            <p>Reviews</p>\n          </NavLink>\n        </div>\n        <Suspense fallback={<Loader />}>\n          <Outlet />\n        </Suspense>\n      </div>\n    </>\n  );\n};\n\nexport default MovieDetails;\n","import axios from 'axios';\n\nconst KEY = '4b14d9ad7ca21f45278ad0b78c44423b';\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\naxios.defaults.params = { api_key: KEY };\n\nexport async function fetchTrending() {\n  const response = await axios.get('trending/movie/day');\n  return response.data.results;\n}\nexport async function fetchSearchMovieByWord(query) {\n  const response = await axios(\n    `search/movie?query=${query}&include_adult=false&language=en-US&page=1`\n  );\n  return response.data.results;\n}\nexport async function fetchMovieDetails(movie_id) {\n  const response = await axios(`movie/${movie_id}?language=en-US`);\n  return response.data;\n}\n\nexport async function fetchMovieCast(movie_id) {\n  const response = await axios(`movie/${movie_id}/credits?language=en-US`);\n  return response.data.cast;\n}\nexport async function fetchMovieReviews(movie_id) {\n  const response = await axios(\n    `movie/${movie_id}/reviews?language=en-US&page=1`\n  );\n  return response.data.results;\n}\n"],"names":["_ref","_movie$title","_movie$title2","id","movie","setMovie","useState","error","setError","isLoading","setIsLoading","movieId","useParams","location","useLocation","navigate","useNavigate","useEffect","async","fetchMovieDetails","MovieDetails","_jsxs","_Fragment","children","_jsx","className","styles","type","onClick","handleClick","_location$state$from","_location$state","state","from","Loader","src","poster_path","alt","title","name","Math","round","popularity","overview","genres","map","_ref2","NavLink","to","end","pathname","includes","Suspense","fallback","Outlet","fetchTrending","axios","get","data","results","fetchSearchMovieByWord","query","movie_id","fetchMovieCast","cast","fetchMovieReviews","defaults","baseURL","params","api_key"],"sourceRoot":""}