"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[904],{671:(e,a,t)=>{t.d(a,{A:()=>m});t(43);const s="MovieList_movieList__M8ygs";var r=t(475);const n="MovieCard_movieItem__W6IRp",o="MovieCard_movieLink__zjMx0",i="MovieCard_movieImage__ViSwS",c="MovieCard_movieTitle__-EYuZ";var u=t(579);const l=function(e){let{movie:a,prevLocation:t}=e;return(0,u.jsx)("li",{className:n,children:(0,u.jsxs)(r.N_,{to:`/movies/${a.id}`,state:{from:t},className:o,children:[(0,u.jsx)("img",{src:a.poster_path?`https://image.tmdb.org/t/p/w200/${a.poster_path}`:{},alt:a.title||a.name,className:i}),(0,u.jsx)("p",{className:c,children:a.title||a.name})]})})},m=e=>{let{movies:a,prevLocation:t}=e;return(0,u.jsx)("ul",{className:s,children:null===a||void 0===a?void 0:a.map((e=>(0,u.jsx)(l,{movie:e,prevLocation:t},e.id)))})}},904:(e,a,t)=>{t.r(a),t.d(a,{default:()=>h});var s=t(406),r=t(671),n=t(43),o=t(216);const i="SearchBar_searchForm__ngBm-",c="SearchBar_searchInput__Yk68W",u="SearchBar_searchButton__YLute";var l=t(579);const m=e=>{let{onSearch:a}=e;const t=(0,o.zy)(),[s,r]=(0,n.useState)("");return(0,n.useEffect)((()=>{const e=new URLSearchParams(t.search).get("query");e&&r(e)}),[t.search]),(0,l.jsxs)("form",{onSubmit:e=>{e.preventDefault(),""!==s.trim()?a(s):alert("Enter the film title")},className:i,children:[(0,l.jsx)("input",{type:"text",name:"searchQuery",value:s,autoComplete:"off",autoFocus:!0,placeholder:"Search...",onChange:e=>{r(e.target.value.toLowerCase())},className:c}),(0,l.jsx)("button",{type:"submit",className:u,children:"Search"})]})};var d=t(475),v=t(315);const h=function(){const[e,a]=(0,d.ok)(),[t,i]=(0,n.useState)([]),[c,u]=(0,n.useState)(""),[h,_]=(0,n.useState)(!1),p=(0,o.zy)(),f=e.get("query");return(0,n.useEffect)((()=>{if(!f)return;(async()=>{try{_(!0);const e=await(0,v.kz)(f);i(e),e.length||alert("Your movies were not found!")}catch(c){u(c.message)}finally{_(!1)}})()}),[f]),(0,l.jsxs)(l.Fragment,{children:[h&&(0,l.jsx)(s.A,{}),c&&(0,l.jsx)("div",{children:c}),(0,l.jsx)(m,{onSearch:function(e){a({query:`${e}`})}}),t&&(0,l.jsx)(r.A,{movies:t,prevLocation:p})]})}},315:(e,a,t)=>{t.d(a,{BC:()=>o,g4:()=>c,ib:()=>i,k8:()=>r,kz:()=>n});var s=t(213);async function r(){return(await s.A.get("trending/movie/day")).data.results}async function n(e){return(await(0,s.A)(`search/movie?query=${e}&include_adult=false&language=en-US&page=1`)).data.results}async function o(e){return(await(0,s.A)(`movie/${e}?language=en-US`)).data}async function i(e){return(await(0,s.A)(`movie/${e}/credits?language=en-US`)).data.cast}async function c(e){return(await(0,s.A)(`movie/${e}/reviews?language=en-US&page=1`)).data.results}s.A.defaults.baseURL="https://api.themoviedb.org/3",s.A.defaults.params={api_key:"4b14d9ad7ca21f45278ad0b78c44423b"}}}]);
//# sourceMappingURL=904.65ca85d5.chunk.js.map